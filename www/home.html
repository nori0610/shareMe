
<ons-page class="main_pages" id="home-page">
  <ons-toolbar>
    <div class="center">Home Page</div>
    <div class="right">
      <ons-toolbar-button><ons-icon icon="ion-ios-paperplane-outline"></ons-icon></ons-toolbar-button>
    </div>
  </ons-toolbar>

  <div>
    <div class='posts'>
    </div>
  </div>

<template id="photo">
  <ons-card id="{{id}}" class="post">
    <ons-list-item class="post_title">
      <div class="left">
        <img class="profile_image list-item__thumbnail" src="{{photo.user.profileImage}}" >
      </div>
      <div class="center">
        <div class="list-item__title"><b>{{photo.user.userName}}</b></div>
        <div class="list-item__subtitle" style="font-size: 12px">{{photo.location}}</div>
      </div>
      <div class="right">
        <ons-button class="corner-button" modifier="quiet">
          <ons-icon icon="ion-ios-more,material:ion-android-more-vertical"></ons-icon>
        </ons-button>
      </div>
    </ons-list-item>

    <div style="text-align: center; position: relative;" ondblclick="like('{{id}}')">
      <ons-icon size="150px" id="post-like-{{id}}" class="post-like" icon="ion-ios-heart"></ons-icon>
      <img class="post-image" width="320" height="320" src="{{photo.fileUrl}}">
    </div>

    <ons-list-item class="post-button-bar" modifier="nodivider">
      <div class="center" style="padding-top: 0px">
        <ons-button class="post-button" modifier="quiet" onclick="like('{{id}}')">
          {{#photo.liked}}
            <ons-icon id="button-post-like-{{id}}" icon="ion-ios-heart" class="ion-ios-heart like"></ons-icon>
          {{/photo.liked}}
          {{^photo.liked}}
            <ons-icon id="button-post-like-{{id}}" icon="ion-ios-heart-outline"></ons-icon>
          {{/photo.liked}}
        </ons-button>
        <ons-button class="post-button" modifier="quiet" onclick="comment('{{id}}')"><ons-icon icon="ion-ios-chatbubble-outline"></ons-icon></ons-button>
        <ons-button class="post-button" modifier="quiet"><ons-icon icon="ion-ios-paperplane-outline"></ons-icon></ons-button>
      </div>
      <div class="right corner-button bookmark">
        <ons-button class="post-button" modifier="quiet"><ons-icon icon="md-bookmark-outline"></ons-icon></ons-button>
      </div>
    </ons-list-item>
    <div class="post-like-info">
      {{{favorite_message}}}
    </div>
    <div class="post-caption"><b>{{photo.user.userName}}</b> {{photo.message}} </div>
    <div class="post-time">{{photo.timeAgo}}</div>
    
    <div class="post-comments">
      {{{messages}}}
    </div>
  </ons-card>
</template>

<template id="comment">
  {{#messages}}
  <ons-list>
    <ons-list-item modifier="nodivider">
      <div class="left">
        <img class="list-item__thumbnail" src="{{profileImage}}">
      </div>
      <div class="center">
        <span class="list-item__title">{{username}}</span>
        <span class="list-item__subtitle">{{comment}}</span>
      </div>
    </ons-list-item>
  </ons-list>
  {{/messages}}
</template>

<style type="text/css">
  .stories-tab {
    padding: 8px 15px;
    background-color: #f6f6f6;
    height: 75px;
    font-size: 12px
  }

  .story {
    display: inline-table;
  }

  .story p {
    width: 100%;
    max-width: 50px;
    overflow: hidden;
    text-overflow: ellipsis;
    margin: 0;
    text-transform: none
  }

  .story-thumbnail-wraper {
    text-align: center;
    border-radius: 50%;
  }

  .story-thumbnail {
    padding: 2px;
    width: 45px;
    border-radius: 50%;
    vertical-align: middle;
  }

  .story-thumbnail:active {
    width: 40px;
    transition: width 0.1s, height 0.1s;
  }

  .unread {
    border: 3px solid #d31010;
  }

  .read {
    border: 2px solid #afafaf;
  }

  .post {
    margin: 0px;
    padding: 0px 0px 15px;
    font-size: 14px;
    border-bottom: 1px solid rgba(175, 175, 175, 0.43);
    border-radius: 0;
  }

  .post_title {
    padding-left: 10px;
  }

  .post-caption {
    padding-left: 10px;
  }

  .post-like-info {
    margin-bottom: 5px;
    padding-left: 10px;
  }

  .post-image {
    width: 100%;
  }

  .post-time {
    font-size: 10px;
    opacity: 0.7;
    margin-top: 5px;
    padding-left: 10px;
  }

  .post-like {
    opacity: 0;
    width: 100%;
    position: absolute;
    top: 25%;
    color: white;
    transition: opacity 0.4s;
  }

  .post-button-bar {
    height: 40px;
    padding-left: 0px;
  }

  .post-button {
    font-size: 26px;
    color: #1f1f21;
    line-height: 26px;
  }

  .corner-button {
    color: black;
    font-size: 25px;
    padding-right: 0;
  }

  .like {
    color: red;
  }

  .list-item__thumbnail {
    border-radius: 50%;
  }
</style>

</ons-page>
